# requirements.txt — GrowChief / YSH 360° Coverage (runtime + ops + optional)
# Salve como requirements.txt.

############################
# Core API & Runtime (FastAPI)
############################
fastapi==0.115.0
uvicorn[standard]==0.30.6
httpx==0.27.2
orjson==3.10.7
pydantic==2.9.2
pydantic-settings==2.4.0
python-dotenv==1.0.1

############################
# Messaging / Bus / Realtime
############################
redis==5.0.8
nats-py==2.7.2
websockets==12.0
sse-starlette==2.1.2

############################
# OpenAI & LLM Clients
############################
openai==1.51.2
tiktoken==0.7.0

############################
# Storage / DB / Files
############################
psycopg[binary]==3.2.1         # Neon Postgres
SQLAlchemy==2.0.35
alembic==1.13.2
boto3==1.35.30                 # S3-compatible (opcional)
minio==7.2.8                   # alternativa S3 self-hosted

############################
# Observability / Logging / Metrics
############################
structlog==24.4.0
loguru==0.7.2
prometheus-client==0.20.0
sentry-sdk==2.13.0
opentelemetry-sdk==1.26.0
opentelemetry-exporter-otlp==1.26.0

############################
# Security / Auth / JWT
############################
cryptography==43.0.1
python-jose==3.3.0
passlib[bcrypt]==1.7.4
email-validator==2.2.0

############################
# Scheduling / Workers
############################
APScheduler==3.10.4
dramatiq==1.16.0               # opcional (fila de tarefas)
# rq==1.16.2                   # alternativa a Dramatiq (Redis Queue)

############################
# PDF / Bills / Parsing
############################
pypdf==4.3.1
pdfminer.six==20231228
pdfplumber==0.11.4

############################
# Data / Calc
############################
pandas==2.2.2
numpy==2.0.2
numpy-financial==1.0.0

############################
# Vision (Roof / Panel Detection) — opcional
############################
opencv-python-headless==4.10.0.84
scikit-image==0.24.0
Pillow==10.4.0
onnxruntime==1.18.1            # runtime universal p/ inferência
# torch==2.4.1                 # pesado; instale apenas se necessário e compatível
# ultralytics==8.3.27          # YOLO (opcional para detecção)

############################
# Geo / Maps (opcional)
############################
geopy==2.4.1
shapely==2.0.6
pyproj==3.6.1
geojson==3.1.0

############################
# Campaigns / Telco (Twilio / Email)
############################
twilio==9.2.3
aiosmtplib==3.0.1

############################
# Dev / Test / Lint
############################
pytest==8.3.2
pytest-asyncio==0.23.8
pytest-cov==5.0.0
requests==2.32.3
mypy==1.11.2
ruff==0.6.8
types-requests==2.32.0.20240914
rich==13.8.0
tqdm==4.66.5

############################
# OS-specific Perf (opcional)
############################
uvloop==0.20.0 ; platform_system != "Windows"

